<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.6 at 08-31-15 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Bridge To Babylon &#x2013; Bridge to Babylon Usage</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
      <meta name="author" content="Jean-Philippe Gravel, eng." />
    <meta name="Date-Creation-yyyymmdd" content="20130907" />
    <meta name="Date-Revision-yyyymmdd" content="20150831" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                Bridge to Babylon
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="projectVersion">Version: 1.3.2</span>
              </div>
            <div class="xright">        
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Bridge to Babylon</h5>
                  <ul>
                  <li class="none">
                          <a href="" title="Home">Home</a>
            </li>
                  <li class="none">
            <strong>Usage</strong>
          </li>
                  <li class="none">
                          <a href="Pom.html" title="Pom.xml">Pom.xml</a>
            </li>
                  <li class="none">
                          <a href="http://sourceforge.net/project/showfiles.php?group_id=209935" class="externalLink" title="Download">Download</a>
            </li>
                  <li class="none">
                          <a href="http://sourceforge.net/projects/btb/" class="externalLink" title="Sourceforge Project">Sourceforge Project</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                  <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                    <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                                                                                                                               <a href="http://sourceforge.net/projects/btb" title="SourceForge.net" class="poweredBy">
        <img class="poweredBy"  alt="SourceForge.net" src="http://sflogo.sourceforge.net/sflogo.php?group_id=209935&type=1"     />
      </a>
                                                                                                                <a href="http://maven.apache.org/" title="Maven" class="poweredBy">
        <img class="poweredBy"  alt="Maven" src="http://maven.apache.org/images/logos/maven-feather.png"     />
      </a>
                                                                                                                <a href="http://sourceforge.net/donate/index.php?group_id=209935" title="Support this project" class="poweredBy">
        <img class="poweredBy"  alt="Support this project" src="http://images.sourceforge.net/images/project-support.jpg"     />
      </a>
                       
                    
                <div id="lastPublished">
        <span id="publishDate">Last Published: 08-31-15</span>
              </div>
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section">
<h2><a name="Using_Bridge_to_Babylon"></a>Using Bridge to Babylon</h2>
<p>To use Bridge to Babylon, I strongly recommend that you get familiar with <a class="externalLink" href="http://maven.apache.org">Apache Maven</a>. If you use Maven to manage your projects, you will find a lot of cool features like the one I used to create this site and avoid the java dependency hell amongst other things.</p>
<div class="section">
<h3><a name="Step_One:_Linking_With_Your_Project"></a>Step One: Linking With Your Project</h3>
<p>To include Bridge to Babylon to your project using Maven, add the <a href="#Pom.html">dependency</a> to your pom.xml file. If you don't use Maven, you can download the library along with its related jars <a class="externalLink" href="http://sourceforge.net/project/showfiles.php?group_id=209935">here</a>.</p></div>
<div class="section">
<h3><a name="Step_Two:_Create_Your_Database"></a>Step Two: Create Your Database</h3>
<p>When creating your database, you have to follow these simple naming rules for your table and column names:</p>
<ol style="list-style-type: decimal">
<li>The primary key name must be either &quot;id&quot; or &quot;&lt;table name&gt;Id.
<p>Ex: <i>employeeId</i> (for the table &quot;Employee&quot;)</p></li>
<li>Use pascal case for table names 
<p>Ex: <i>EmployeeStore</i></p></li>
<li>Use camel case for column names 
<p>Ex: <i>createdDate</i></p></li></ol>
<p>Note that the second and third rules stated here are to be considered only if your DBMS is case sensitive.</p>
<p>Table Example (Derby syntax):</p>
<div class="source">
<pre>CREATE TABLE Employee (
  id           INT         NOT NULL GENERATED ALWAYS AS IDENTITY,
  firstName    VARCHAR(50),
  lastName     VARCHAR(50),
  wages        DOUBLE      NOT NULL,
    PRIMARY KEY(id)
);
</pre></div></div>
<div class="section">
<h3><a name="Step_Three:_Create_Your_Plain_Old_Java_Object_POJO"></a>Step Three: Create Your Plain Old Java Object (POJO)</h3>
<p>POJO Corresponding to the Employee table:</p>
<div class="source">
<pre>public class Employee {

    private int     id;
    private String  firstName;
    private String  lastName;
    private double  wages;

    public Employee() {
        this.id        = -1;
        this.firstName = &quot;&quot;;
        this.lastName  = &quot;&quot;;
        this.wages     = 0;
    }

    protected void setId(int id) {
        this.id = id;
    }

    public int getId() {
        return id;
    }

    public void setFirstName(String firstName) {
        this.name = name;
    }

    public String getFirstName() {
        return name;
    }

    public void setLastName(String lastName) {
        this.lastName = lastName;
    }

    public String getLastName() {
        return lastName;
    }

    public void setWages(double wages) {
        this.wages = wages;
    }

    public double getWages() {
        return wages;
    }
}
</pre></div>
<p>So what do we have to say now? In fact, your are in right to ask yourself how does Bridge to Babylon handles auto incremented primary keys. First of all, you must now that protected and private methods of your object's properties can be accessed by Bridge to Babylon. Secondly, BTB automatically fetch back from your database any read-only columns that your table may have upon insert and update operations.</p>
<p>In this particular case, you don't want the end user of the POJO to be able to directly change the &quot;id&quot; property because it's the database responsibility to do so. But BTB still need to access it through a method during a select or a fetch back operation. That's why the &quot;setId&quot; method have to be protected (or private).</p></div>
<div class="section">
<h3><a name="Step_Four:_Get_Connected_to_Your_Database"></a>Step Four: Get Connected to Your Database</h3>
<p>Bridge to Babylon offers a class named <a href="#apidocsnetsfbtbConnectionManager.html">ConnectionManager</a> to help you handle any database connection you may need. By default, when you create an instance of this class, it looks for a file named &quot;bridge.xml&quot; in the application root folder. You can change this path by adding the command line argument &quot;-Dbridge.properties.path=<i>path to your property file</i>&quot; when launching your application.</p>
<p>Sample of a minimal &quot;bridge.xml&quot; content:</p>
<div class="source">
<pre>&lt;properties&gt;
        &lt;entry key=&quot;database.url&quot;&gt;jdbc:derby:data/testdb;create=true&lt;/entry&gt;
&lt;/properties&gt;
</pre></div>
<p>...and the equivalent bridge.properties:</p>
<div class="source">
<pre>database.url=jdbc:derby:data/testdb;create=true
</pre></div>
<p>As you can see, a ConnectionManager needs only one key to be functional. With this file in your application folder, any time you creates a Bridge you will be connected to a Derby database in the &quot;data&quot; folder, under your application directory. It is possible to handle more database connections with a ConnectionManager. For more information on how to handle multiple connections, please read the corresponding <a href="#apidocsindex.html">Javadoc</a>.</p></div>
<div class="section">
<h3><a name="Step_5:_Use_Bridge_to_Babylon"></a>Step 5: Use Bridge to Babylon</h3>
<p>Now it's time to get to the real thing. Do I have to tell you to create your database and bridge.xml file prior executing the following snippet?</p>
<p>In any case, this is a simple insertion example:</p>
<div class="source">
<pre>    Employee e = new Employee();
    e.setId(123);
    e.setFirstName(&quot;John&quot;);
    e.setLastName(&quot;Doe&quot;);
    e.setWages(16.45);

    Bridge&lt;Employee&gt; bridge = new Bridge&lt;Employee&gt;(Employee.class);
    bridge.insert(e);
</pre></div>
<p>Now a simple query example returning all elements from a table:</p>
<div class="source">
<pre>    Bridge&lt;Employee&gt; bridge = new Bridge&lt;Employee&gt;(Employee.class);
    Query&lt;Employee&gt; query = bridge.newQuery();
    List&lt;Employee&gt; list = query.execute();
</pre></div></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2015.
          All rights reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
